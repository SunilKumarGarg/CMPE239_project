<!DOCTYPE html>
<html>
  <head>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 60%;
        width: 60%;
        left: 500px
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <script type="text/javascript" src="http://code.angularjs.org/1.1.0/angular.min.js"></script>
  <script type="text/javascript" src="http://www.google.com/jsapi"></script>
  <script src="js/jquery.js"></script>
  
  <script>

      var map;
      var Temp=[];
      var Coord = [];
      var p = [];

      function getCoordinateClusterData() 
      {
        
        $.post("http://127.0.0.1:5000/TemperatureClassificationForCoordinates", "Month=6"+"&Year=2010")
          .then(function successCallback(response) 
          { 
              var pp = JSON.parse(response)
              Temp = pp.Temp_Class;		
              Coord = pp.coordinates;       
              p = JSON.stringify(Coord)
              //console.log(p);
              initMap()       
          });
          
      }
    </script>
  <body onload="getCoordinateClusterData()">
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 2,
          center: {lat: 37.090, lng: -95.712},
          mapTypeId: 'terrain'
        });
        

        for (var index = 0; index < Coord.length; index++) {
          var element = Coord[index];
          var t = Temp[index]

          var color = '#FF0000' //Red
          if(t == 'Cold_Temperature')
          {
            color = '#9966FF' //Blue
          }
          else if(t == 'Medium_Temperature')
          {
            color = '#99FF00' //Yellow
          }

          var cityCircle = new google.maps.Circle({
            strokeColor: color,
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: color,
            fillOpacity: 0.35,
            map: map,
            center: {lat: element[0], lng: element[1]},
            radius: 100000
          });

        }
      }

      

      function eqfeed_callback(results) {
          console.log(results)
        map.data.addGeoJson(results);
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBaLJJgSkTSvmJP_QTZsI0iMD_Gm_Khtc0&callback=initMap">
    </script>
  </body>
</html>